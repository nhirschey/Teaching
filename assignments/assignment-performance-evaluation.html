<!DOCTYPE html>
<html lang="en" data-root="/Teaching/">
<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Nicholas Hirschey; Davide Costa" name="author">
    <!-- Opengraph properties (https://ogp.me/) -->
    <meta property="og:site_name" content="Teaching">
    <meta property="og:title" content="Performance Evaluation" />
    <meta property="og:url" content="/Teaching/assignments/assignment-performance-evaluation.html">
    <meta property="og:type" content="website" />
    <!-- Twitter cards (https://developer.twitter.com/en/docs/twitter-for-websites/cards/overview/summary-card-with-large-image) -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="/Teaching/">
    <meta name="twitter:title" content="Performance Evaluation">
    
    <title>Performance Evaluation | Teaching</title>
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel="stylesheet">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <link href="/Teaching/img/logo.png" rel="icon" sizes="32x32" type="image/png"/>
    <script type="application/javascript" src="/Teaching/content/fsdocs-theme-set-dark.js"></script>
    <link href="/Teaching/content/fsdocs-default.css" rel="stylesheet" type="text/css"/>
    <link href="/Teaching/content/fsdocs-theme.css" rel="stylesheet" type="text/css"/>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
    
</head>
<body class="content">
<header>
    <div class="start">
        <div id="menu-toggle">
            <iconify-icon class="icon closed" height="22" icon="eva:menu-fill" width="22"></iconify-icon>
            <iconify-icon class="icon open" height="22" icon="mi:close" width="22"></iconify-icon>
            <input type="checkbox" name="mobile-menu" />
            <ul class="menu">
                <li class="nav-header">Links</li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/nhirschey/Teaching/blob/main/LICENSE.md">License</a>
                </li>
                <li class="nav-item"><a class="nav-link"
                                        href="https://github.com/nhirschey/Teaching/blob/main/CHANGELOG.md">Release
                    Notes</a></li>
                <li class="nav-item"><a class="nav-link" href="https://github.com/nhirschey/Teaching/">Source
                    Repository</a></li>
                <li class="nav-header ">
  Getting Started
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/install.html">
    Install Software
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/learn-fsharp.html">
    Learn F#
  </a>
</li>             
<li class="nav-header ">
  Lectures
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/fundamentals.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/stockslongrun.html">
    Stocks for the long run
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/stocksandbonds.html">
    Stocks and bonds
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/riskyweight.html">
    Risky Weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolatilityTiming.html">
    Volatility Timing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolatilityManagedTypes.html">
    Volatility Managed, but with different vols
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolAndReturnPred.html">
    Volatility and Return predictions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/mveComparisons.html">
    More managed portfolio comparisons
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/PortfolioFormation-SimpleExample.html">
    Building a strategy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Momentum-Class.html">
    Momentum Signal
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/signal-portfolio.html">
    Signal Portfolio
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/performance-evaluation.html">
    Performance Evaluation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/optimization.html">
    Optimization
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/revisitRiskyWeights.html">
    Revisiting Mean-variance optimal risky weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/premiums.html">
    Premiums
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/calls-nn.html">
    Calls NN
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/portfolio-statistics.html">
    Basic Portfolio Statistics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/sentiment-mlnet.html">
    Sentiment classification
  </a>
</li>             
<li class="nav-header active">
  Assignments
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-1-download-data.html">
    Webscraping HTML to CSV
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-tuples-and-records.html">
    Tuples and Records (with solutions)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-collection-functions.html">
    Collection functions (with solutions)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignment-risky-weights.html">
    Risky Weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignment-volatility-timing.html">
    Volatility Timing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/select-project-signal.html">
    Select Project Signals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignments/signal-exploration.html">
    Signal Exploration
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignments/assignment-signal-portfolio.html">
    Signal Portfolio
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="/Teaching/assignments/assignment-performance-evaluation.html">
    Performance Evaluation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-plotting.html">
    Plotting (with solutions)
  </a>
</li>             
<li class="nav-header ">
  Practice Quizzes
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-fundamentals.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-list-module.html">
    List module functions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-options.html">
    Options
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-match-expressions.html">
    Match expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-map-collection.html">
    Map collection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-discriminated-union.html">
    Dicriminated Union
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-portfolios.html">
    Portfolios
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-factors.html">
    Factors
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-folding.html">
    Fold and Friends
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Common.html">
    Common
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/loading-scripts.html">
    Loading external scripts
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Portfolio.html">
    Portfolio
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/YahooFinance.html">
    YahooFinance
  </a>
</li>
                
            </ul>
        </div>
        <a href="/Teaching/">
            <img alt="Header menu logo" src="/Teaching/img/logo.png">
            <strong>Teaching</strong>
        </a>
    </div>
    <div class="end">
        <a href="https://github.com/nhirschey/Teaching/" target="_blank">
            <iconify-icon icon="uil:github" width="26" height="26"></iconify-icon>
        </a>
        <iconify-icon id="search-btn" icon="carbon:search" class="search" width="24" height="24"></iconify-icon>
        <fsdocs-theme-toggle></fsdocs-theme-toggle>
    </div>
</header>
<aside id="fsdocs-main-menu">
    <ul class="menu">
        <li class="nav-header">Links</li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/nhirschey/Teaching/blob/main/LICENSE.md">License</a>
        </li>
        <li class="nav-item"><a class="nav-link"
                                href="https://github.com/nhirschey/Teaching/blob/main/CHANGELOG.md">Release
            Notes</a></li>
        <li class="nav-item"><a class="nav-link" href="https://github.com/nhirschey/Teaching/">Source
            Repository</a></li>
        <li class="nav-header ">
  Getting Started
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/install.html">
    Install Software
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/learn-fsharp.html">
    Learn F#
  </a>
</li>             
<li class="nav-header ">
  Lectures
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/fundamentals.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/stockslongrun.html">
    Stocks for the long run
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/stocksandbonds.html">
    Stocks and bonds
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/riskyweight.html">
    Risky Weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolatilityTiming.html">
    Volatility Timing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolatilityManagedTypes.html">
    Volatility Managed, but with different vols
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/VolAndReturnPred.html">
    Volatility and Return predictions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/mveComparisons.html">
    More managed portfolio comparisons
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/PortfolioFormation-SimpleExample.html">
    Building a strategy
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Momentum-Class.html">
    Momentum Signal
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/signal-portfolio.html">
    Signal Portfolio
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/performance-evaluation.html">
    Performance Evaluation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/optimization.html">
    Optimization
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/revisitRiskyWeights.html">
    Revisiting Mean-variance optimal risky weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/premiums.html">
    Premiums
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/calls-nn.html">
    Calls NN
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/portfolio-statistics.html">
    Basic Portfolio Statistics
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/sentiment-mlnet.html">
    Sentiment classification
  </a>
</li>             
<li class="nav-header active">
  Assignments
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-1-download-data.html">
    Webscraping HTML to CSV
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-tuples-and-records.html">
    Tuples and Records (with solutions)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-collection-functions.html">
    Collection functions (with solutions)
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignment-risky-weights.html">
    Risky Weights
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignment-volatility-timing.html">
    Volatility Timing
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/select-project-signal.html">
    Select Project Signals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignments/signal-exploration.html">
    Signal Exploration
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/assignments/assignment-signal-portfolio.html">
    Signal Portfolio
  </a>
</li>             
<li class="nav-item active">
  <a class="nav-link" href="/Teaching/assignments/assignment-performance-evaluation.html">
    Performance Evaluation
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/football-plotting.html">
    Plotting (with solutions)
  </a>
</li>             
<li class="nav-header ">
  Practice Quizzes
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-fundamentals.html">
    Fundamentals
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-list-module.html">
    List module functions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-options.html">
    Options
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-match-expressions.html">
    Match expressions
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-map-collection.html">
    Map collection
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-discriminated-union.html">
    Dicriminated Union
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-portfolios.html">
    Portfolios
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-factors.html">
    Factors
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/quizzes/quiz-folding.html">
    Fold and Friends
  </a>
</li>             
<li class="nav-header ">
  Other
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Common.html">
    Common
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/loading-scripts.html">
    Loading external scripts
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/Portfolio.html">
    Portfolio
  </a>
</li>             
<li class="nav-item ">
  <a class="nav-link" href="/Teaching/YahooFinance.html">
    YahooFinance
  </a>
</li>
        
    </ul>
</aside>
<main>
    <div id="content">
        
<p><a href="https://mybinder.org/v2/gh/nhirschey/teaching/gh-pages?filepath=assignments/assignment-performance-evaluation.ipynb"><img src="../img/badge-binder.svg" alt="Binder" /></a>&emsp;
<a href="/Teaching//assignments/assignment-performance-evaluation.fsx"><img src="../img/badge-script.svg" alt="Script" /></a>&emsp;
<a href="/Teaching//assignments/assignment-performance-evaluation.ipynb"><img src="../img/badge-notebook.svg" alt="Notebook" /></a>
Group Name:</p>
<table>
<thead>
<tr class="header">
<th><p>Student Name</p></th>
<th><p>Student Number</p></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>1:</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><strong>2:</strong></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p><strong>3:</strong></p></td>
<td></td>
</tr>
<tr class="even">
<td><p><strong>4:</strong></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p><strong>5:</strong></p></td>
<td></td>
</tr>
</tbody>
</table>

<p>This is an assignment. You should work in groups. Please write your group and group member names above. You will find sections labeled <strong>Task</strong> asking you to do each piece of analysis. Please make sure that you complete all of these tasks. I included some tests to help you see if you are calculating the solution correctly, but if you cannot get the test to pass submit your best attempt and you may recieve partial credit.</p>
<p>All work that you submit should be your own. Make use of the course resources and example code on the course website. It should be possible to complete all the requested tasks using information given below or somewhere on the course website.</p>
<p>For testing</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: FsUnit.Xunit&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: xunit, 2.*&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">Xunit</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="id">FsUnit</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="m">Xunit</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="id">FsUnitTyped</span>
</code></pre>
<p>For the assignment</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="pp">#r</span> <span class="s">&quot;nuget: FSharp.Data, 5.0.2&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: FSharp.Stats, 0.5.0&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: NovaSBE.Finance, 0.5.0&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: MathNet.Numerics&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: MathNet.Numerics.FSharp&quot;</span>
<span class="pp">#r</span> <span class="s">&quot;nuget: Plotly.NET, 3.*&quot;</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="id">System</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs6', 6)" onmouseover="showTip(event, 'fs6', 6)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 7)" onmouseover="showTip(event, 'fs7', 7)" class="id">Data</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs8', 8)" onmouseover="showTip(event, 'fs8', 8)" class="id">Plotly</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 9)" onmouseover="showTip(event, 'fs9', 9)" class="id">NET</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="id">FSharp</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 11)" onmouseover="showTip(event, 'fs10', 11)" class="id">Stats</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs11', 12)" onmouseover="showTip(event, 'fs11', 12)" class="id">MathNet</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs12', 13)" onmouseover="showTip(event, 'fs12', 13)" class="id">Numerics</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs13', 14)" onmouseover="showTip(event, 'fs13', 14)" class="id">Statistics</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs14', 15)" onmouseover="showTip(event, 'fs14', 15)" class="id">NovaSBE</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 16)" onmouseover="showTip(event, 'fs15', 16)" class="id">Finance</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 17)" onmouseover="showTip(event, 'fs16', 17)" class="m">Ols</span>
</code></pre>
<h2><a name="Load-Data" class="anchor" href="#Load-Data">Load Data</a></h2>
<p>First, make sure that you're referencing the correct files.</p>
<p>Here I'm assuming that you have a class folder with this notebook and a <code>data</code> folder inside of it. The folder hierarchy would look like below where you
have the below files and folders accessible:</p>
<table class="pre"><tr><td class="snippet"><pre class="fssnip"><code lang="code">/class
    notebook.ipynb
    id_and_return_data.csv
    rd_sale.csv
    
</code></pre></td></tr></table>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs14', 18)" onmouseover="showTip(event, 'fs14', 18)" class="id">NovaSBE</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 19)" onmouseover="showTip(event, 'fs15', 19)" class="id">Finance</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs17', 20)" onmouseover="showTip(event, 'fs17', 20)" class="m">Portfolio</span>
</code></pre>
<h3><a name="Data-files" class="anchor" href="#Data-files">Data files</a></h3>
<p>We assume the <code>id_and_return_data.csv</code> file and the signal csv file  are in the notebook folder.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs18', 21)" onmouseover="showTip(event, 'fs18', 21)" class="rt">Literal</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs19', 22)" onmouseover="showTip(event, 'fs19', 22)" class="prop">IdAndReturnsFilePath</span> <span class="o">=</span> <span class="s">&quot;id_and_return_data.csv&quot;</span>
<span class="k">let</span> <span class="pn">[&lt;</span><span onmouseout="hideTip(event, 'fs18', 23)" onmouseover="showTip(event, 'fs18', 23)" class="rt">Literal</span><span class="pn">&gt;]</span> <span onmouseout="hideTip(event, 'fs20', 24)" onmouseover="showTip(event, 'fs20', 24)" class="prop">MySignalFilePath</span> <span class="o">=</span> <span class="s">&quot;rd_sale.csv&quot;</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 25)" onmouseover="showTip(event, 'fs21', 25)" class="id">strategyName</span> <span class="o">=</span> <span class="s">&quot;R&amp;D to sales&quot;</span>
</code></pre>
<p>If my paths are correct, then this code should read the first few lines of the files.
If it doesn't show the first few lines, fix the above file paths.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs22', 26)" onmouseover="showTip(event, 'fs22', 26)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 27)" onmouseover="showTip(event, 'fs23', 27)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 28)" onmouseover="showTip(event, 'fs24', 28)" class="id">ReadLines</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs19', 29)" onmouseover="showTip(event, 'fs19', 29)" class="prop">IdAndReturnsFilePath</span><span class="pn">)</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 30)" onmouseover="showTip(event, 'fs25', 30)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 31)" onmouseover="showTip(event, 'fs26', 31)" class="id">truncate</span> <span class="n">5</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 32)" onmouseover="showTip(event, 'fs25', 32)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 33)" onmouseover="showTip(event, 'fs27', 33)" class="id">iter</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 34)" onmouseover="showTip(event, 'fs28', 34)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span><span class="pn">)</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs22', 35)" onmouseover="showTip(event, 'fs22', 35)" class="id">IO</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs23', 36)" onmouseover="showTip(event, 'fs23', 36)" class="rt">File</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs24', 37)" onmouseover="showTip(event, 'fs24', 37)" class="id">ReadLines</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs20', 38)" onmouseover="showTip(event, 'fs20', 38)" class="prop">MySignalFilePath</span><span class="pn">)</span> 
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 39)" onmouseover="showTip(event, 'fs25', 39)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs26', 40)" onmouseover="showTip(event, 'fs26', 40)" class="id">truncate</span> <span class="n">5</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 41)" onmouseover="showTip(event, 'fs25', 41)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs27', 42)" onmouseover="showTip(event, 'fs27', 42)" class="id">iter</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs28', 43)" onmouseover="showTip(event, 'fs28', 43)" class="fn">printfn</span> <span class="s">&quot;</span><span class="pf">%A</span><span class="s">&quot;</span><span class="pn">)</span>
</code></pre>
<p>Ok, now assuming those paths were correct the below code will work.
I will put all this prep code in one block so that it is easy to run.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs29', 44)" onmouseover="showTip(event, 'fs29', 44)" class="id">idAndReturnsCsv</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs30', 45)" onmouseover="showTip(event, 'fs30', 45)" class="rt">CsvProvider</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs19', 46)" onmouseover="showTip(event, 'fs19', 46)" class="prop">IdAndReturnsFilePath</span><span class="pn">,</span><span class="fn">ResolutionFolder</span> <span class="o">=</span> <span class="k">__SOURCE_DIRECTORY__</span><span class="pn">&gt;</span><span class="pn">.</span><span class="id">GetSample</span><span class="pn">(</span><span class="pn">)</span><span class="pn">.</span><span class="id">Rows</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 47)" onmouseover="showTip(event, 'fs25', 47)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 48)" onmouseover="showTip(event, 'fs31', 48)" class="id">toList</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs32', 49)" onmouseover="showTip(event, 'fs32', 49)" class="id">mySignalCsv</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs30', 50)" onmouseover="showTip(event, 'fs30', 50)" class="rt">CsvProvider</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs20', 51)" onmouseover="showTip(event, 'fs20', 51)" class="prop">MySignalFilePath</span><span class="pn">,</span><span class="fn">ResolutionFolder</span> <span class="o">=</span> <span class="k">__SOURCE_DIRECTORY__</span><span class="pn">&gt;</span><span class="pn">.</span><span class="id">GetSample</span><span class="pn">(</span><span class="pn">)</span><span class="pn">.</span><span class="id">Rows</span> 
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs25', 52)" onmouseover="showTip(event, 'fs25', 52)" class="m">Seq</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs31', 53)" onmouseover="showTip(event, 'fs31', 53)" class="id">toList</span>
</code></pre>
<p>A list of <code>Signal</code> records. The signal type is defined in the <code>NovaSBE.Finance.Portfolio</code> module <a href="https://github.com/nhirschey/NovaSBE.Finance/blob/6d1398625e5a9279af00bb6e1c1802af3596c3f6/src/NovaSBE.Finance/Portfolio.fs#L178-L181">here</a>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs33', 54)" onmouseover="showTip(event, 'fs33', 54)" class="id">mySignals</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs32', 55)" onmouseover="showTip(event, 'fs32', 55)" class="id">mySignalCsv</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 56)" onmouseover="showTip(event, 'fs34', 56)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 57)" onmouseover="showTip(event, 'fs35', 57)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs36', 58)" onmouseover="showTip(event, 'fs36', 58)" class="fn">row</span> <span class="k">-&gt;</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs36', 59)" onmouseover="showTip(event, 'fs36', 59)" class="fn">row</span><span class="pn">.</span><span class="id">Signal</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs37', 60)" onmouseover="showTip(event, 'fs37', 60)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs37', 61)" onmouseover="showTip(event, 'fs37', 61)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs38', 62)" onmouseover="showTip(event, 'fs38', 62)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs39', 63)" onmouseover="showTip(event, 'fs39', 63)" class="fn">signal</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs40', 64)" onmouseover="showTip(event, 'fs40', 64)" class="fn">signalRecord</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs41', 65)" onmouseover="showTip(event, 'fs41', 65)" class="rt">Signal</span> <span class="o">=</span>
                <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs42', 66)" onmouseover="showTip(event, 'fs42', 66)" class="prop">SecurityId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 67)" onmouseover="showTip(event, 'fs43', 67)" class="uc">Other</span> <span onmouseout="hideTip(event, 'fs36', 68)" onmouseover="showTip(event, 'fs36', 68)" class="fn">row</span><span class="pn">.</span><span class="id">Id</span>
                  <span class="prop">FormationDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 69)" onmouseover="showTip(event, 'fs44', 69)" class="fn">DateTime</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 70)" onmouseover="showTip(event, 'fs36', 70)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Year</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs36', 71)" onmouseover="showTip(event, 'fs36', 71)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Month</span><span class="pn">,</span> <span class="n">1</span><span class="pn">)</span>
                  <span onmouseout="hideTip(event, 'fs41', 72)" onmouseover="showTip(event, 'fs41', 72)" class="prop">Signal</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs39', 73)" onmouseover="showTip(event, 'fs39', 73)" class="fn">signal</span> <span class="pn">}</span>
            <span onmouseout="hideTip(event, 'fs38', 74)" onmouseover="showTip(event, 'fs38', 74)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs40', 75)" onmouseover="showTip(event, 'fs40', 75)" class="fn">signalRecord</span><span class="pn">)</span>

<span class="c">// look at a few signals</span>
<span onmouseout="hideTip(event, 'fs33', 76)" onmouseover="showTip(event, 'fs33', 76)" class="id">mySignals</span><span class="pn">[</span><span class="o">..</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<p>A list of Security return records. The <code>SecurityReturn</code> type is defined in the <code>NovaSBE.Finance.Portfolio</code> module <a href="https://github.com/nhirschey/NovaSBE.Finance/blob/6d1398625e5a9279af00bb6e1c1802af3596c3f6/src/NovaSBE.Finance/Portfolio.fs#L173-L176">here</a></p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs45', 77)" onmouseover="showTip(event, 'fs45', 77)" class="id">myReturns</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs29', 78)" onmouseover="showTip(event, 'fs29', 78)" class="id">idAndReturnsCsv</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 79)" onmouseover="showTip(event, 'fs34', 79)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 80)" onmouseover="showTip(event, 'fs35', 80)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs36', 81)" onmouseover="showTip(event, 'fs36', 81)" class="fn">row</span> <span class="k">-&gt;</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs36', 82)" onmouseover="showTip(event, 'fs36', 82)" class="fn">row</span><span class="pn">.</span><span class="id">Ret</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs37', 83)" onmouseover="showTip(event, 'fs37', 83)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs37', 84)" onmouseover="showTip(event, 'fs37', 84)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs38', 85)" onmouseover="showTip(event, 'fs38', 85)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs46', 86)" onmouseover="showTip(event, 'fs46', 86)" class="fn">ret</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 87)" onmouseover="showTip(event, 'fs47', 87)" class="fn">ret</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs48', 88)" onmouseover="showTip(event, 'fs48', 88)" class="rt">SecurityReturn</span> <span class="o">=</span>
                <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs42', 89)" onmouseover="showTip(event, 'fs42', 89)" class="prop">SecurityId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 90)" onmouseover="showTip(event, 'fs43', 90)" class="uc">Other</span> <span onmouseout="hideTip(event, 'fs36', 91)" onmouseover="showTip(event, 'fs36', 91)" class="fn">row</span><span class="pn">.</span><span class="id">Id</span>
                  <span class="prop">Date</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 92)" onmouseover="showTip(event, 'fs44', 92)" class="fn">DateTime</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 93)" onmouseover="showTip(event, 'fs36', 93)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Year</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs36', 94)" onmouseover="showTip(event, 'fs36', 94)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Month</span><span class="pn">,</span> <span class="n">1</span><span class="pn">)</span>
                  <span class="prop">Return</span><span class="o">=</span> <span onmouseout="hideTip(event, 'fs47', 95)" onmouseover="showTip(event, 'fs47', 95)" class="fn">ret</span> <span class="pn">}</span>
            <span onmouseout="hideTip(event, 'fs38', 96)" onmouseover="showTip(event, 'fs38', 96)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs47', 97)" onmouseover="showTip(event, 'fs47', 97)" class="fn">ret</span><span class="pn">)</span>

<span class="c">// look at a few returns</span>
<span onmouseout="hideTip(event, 'fs45', 98)" onmouseover="showTip(event, 'fs45', 98)" class="id">myReturns</span><span class="pn">[</span><span class="o">..</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<p>A list of security market caps. We'll need this for value-weight portfolios. The <code>WeightVariable</code> type is defined in the <code>NovaSBE.Finance.Portfolio</code> module <a href="https://github.com/nhirschey/NovaSBE.Finance/blob/6d1398625e5a9279af00bb6e1c1802af3596c3f6/src/NovaSBE.Finance/Portfolio.fs#L183-L186">here</a>.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs49', 99)" onmouseover="showTip(event, 'fs49', 99)" class="id">myMktCaps</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs29', 100)" onmouseover="showTip(event, 'fs29', 100)" class="id">idAndReturnsCsv</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 101)" onmouseover="showTip(event, 'fs34', 101)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs35', 102)" onmouseover="showTip(event, 'fs35', 102)" class="id">choose</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs36', 103)" onmouseover="showTip(event, 'fs36', 103)" class="fn">row</span> <span class="k">-&gt;</span> 
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs36', 104)" onmouseover="showTip(event, 'fs36', 104)" class="fn">row</span><span class="pn">.</span><span class="id">MarketEquity</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs37', 105)" onmouseover="showTip(event, 'fs37', 105)" class="uc">None</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs37', 106)" onmouseover="showTip(event, 'fs37', 106)" class="uc">None</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs38', 107)" onmouseover="showTip(event, 'fs38', 107)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs50', 108)" onmouseover="showTip(event, 'fs50', 108)" class="fn">mktCap</span> <span class="k">-&gt;</span>
            <span class="k">let</span> <span onmouseout="hideTip(event, 'fs51', 109)" onmouseover="showTip(event, 'fs51', 109)" class="fn">mktCap</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs52', 110)" onmouseover="showTip(event, 'fs52', 110)" class="rt">WeightVariable</span> <span class="o">=</span>
                <span class="pn">{</span> <span onmouseout="hideTip(event, 'fs42', 111)" onmouseover="showTip(event, 'fs42', 111)" class="prop">SecurityId</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs43', 112)" onmouseover="showTip(event, 'fs43', 112)" class="uc">Other</span> <span onmouseout="hideTip(event, 'fs36', 113)" onmouseover="showTip(event, 'fs36', 113)" class="fn">row</span><span class="pn">.</span><span class="id">Id</span>
                  <span class="prop">FormationDate</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs44', 114)" onmouseover="showTip(event, 'fs44', 114)" class="fn">DateTime</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 115)" onmouseover="showTip(event, 'fs36', 115)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Year</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs36', 116)" onmouseover="showTip(event, 'fs36', 116)" class="fn">row</span><span class="pn">.</span><span class="id">Eom</span><span class="pn">.</span><span class="id">Month</span><span class="pn">,</span> <span class="n">1</span><span class="pn">)</span>
                  <span class="prop">Value</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs51', 117)" onmouseover="showTip(event, 'fs51', 117)" class="fn">mktCap</span> <span class="pn">}</span>
            <span onmouseout="hideTip(event, 'fs38', 118)" onmouseover="showTip(event, 'fs38', 118)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs51', 119)" onmouseover="showTip(event, 'fs51', 119)" class="fn">mktCap</span><span class="pn">)</span>

<span class="c">// look at a few market caps</span>
<span onmouseout="hideTip(event, 'fs49', 120)" onmouseover="showTip(event, 'fs49', 120)" class="id">myMktCaps</span><span class="pn">[</span><span class="o">..</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<h2><a name="Forming-our-strategy" class="anchor" href="#Forming-our-strategy">Forming our strategy</a></h2>
<p>We're now going to use the <code>Backtest</code> code to generate portfolios. It is defined in the <code>NovaSBE.Finance.Portfolio</code> module <a href="https://github.com/nhirschey/NovaSBE.Finance/blob/6d1398625e5a9279af00bb6e1c1802af3596c3f6/src/NovaSBE.Finance/Portfolio.fs#L199">here</a>.
The <code>Backtest</code> class automates some of the code we did earlier to make portfolio construction simpler.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs53', 121)" onmouseover="showTip(event, 'fs53', 121)" class="id">backtest</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs54', 122)" onmouseover="showTip(event, 'fs54', 122)" class="fn">Backtest</span><span class="pn">(</span><span class="fn">returns</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs45', 123)" onmouseover="showTip(event, 'fs45', 123)" class="id">myReturns</span><span class="pn">,</span> <span class="fn">signals</span><span class="o">=</span><span onmouseout="hideTip(event, 'fs33', 124)" onmouseover="showTip(event, 'fs33', 124)" class="id">mySignals</span><span class="pn">,</span> <span class="fn">nPortfolios</span><span class="o">=</span><span class="n">3</span><span class="pn">,</span> <span class="fn">name</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 125)" onmouseover="showTip(event, 'fs21', 125)" class="id">strategyName</span><span class="pn">)</span>
</code></pre>
<h3><a name="Value-Weighted-Portfolios" class="anchor" href="#Value-Weighted-Portfolios">Value Weighted Portfolios</a></h3>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 126)" onmouseover="showTip(event, 'fs55', 126)" class="id">vw</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs53', 127)" onmouseover="showTip(event, 'fs53', 127)" class="id">backtest</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs56', 128)" onmouseover="showTip(event, 'fs56', 128)" class="id">strategyValueWeighted</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs49', 129)" onmouseover="showTip(event, 'fs49', 129)" class="id">myMktCaps</span><span class="pn">)</span>

<span onmouseout="hideTip(event, 'fs55', 130)" onmouseover="showTip(event, 'fs55', 130)" class="id">vw</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 131)" onmouseover="showTip(event, 'fs57', 131)" class="id">Portfolios</span><span class="pn">[</span><span class="o">..</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs55', 132)" onmouseover="showTip(event, 'fs55', 132)" class="id">vw</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 133)" onmouseover="showTip(event, 'fs58', 133)" class="id">Returns</span><span class="pn">[</span><span class="o">..</span><span class="n">3</span><span class="pn">]</span>
</code></pre>
<h3><a name="Long-short-portfolios" class="anchor" href="#Long-short-portfolios">Long-short portfolios</a></h3>
<p>We get the Fama-French 3-Factor asset pricing model data.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span onmouseout="hideTip(event, 'fs14', 134)" onmouseover="showTip(event, 'fs14', 134)" class="id">NovaSBE</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs15', 135)" onmouseover="showTip(event, 'fs15', 135)" class="id">Finance</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs59', 136)" onmouseover="showTip(event, 'fs59', 136)" class="id">ff3Lookup</span> <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs60', 137)" onmouseover="showTip(event, 'fs60', 137)" class="m">French</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs61', 138)" onmouseover="showTip(event, 'fs61', 138)" class="id">getFF3</span> <span onmouseout="hideTip(event, 'fs60', 139)" onmouseover="showTip(event, 'fs60', 139)" class="m">French</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs62', 140)" onmouseover="showTip(event, 'fs62', 140)" class="rt">Frequency</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs63', 141)" onmouseover="showTip(event, 'fs63', 141)" class="id">Monthly</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs64', 142)" onmouseover="showTip(event, 'fs64', 142)" class="m">Array</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs65', 143)" onmouseover="showTip(event, 'fs65', 143)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs66', 144)" onmouseover="showTip(event, 'fs66', 144)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs44', 145)" onmouseover="showTip(event, 'fs44', 145)" class="fn">DateTime</span><span class="pn">(</span><span onmouseout="hideTip(event, 'fs66', 146)" onmouseover="showTip(event, 'fs66', 146)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 147)" onmouseover="showTip(event, 'fs67', 147)" class="prop">Date</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs68', 148)" onmouseover="showTip(event, 'fs68', 148)" class="id">Year</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs66', 149)" onmouseover="showTip(event, 'fs66', 149)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs67', 150)" onmouseover="showTip(event, 'fs67', 150)" class="prop">Date</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs69', 151)" onmouseover="showTip(event, 'fs69', 151)" class="id">Month</span><span class="pn">,</span> <span class="n">1</span><span class="pn">)</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs66', 152)" onmouseover="showTip(event, 'fs66', 152)" class="fn">x</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs70', 153)" onmouseover="showTip(event, 'fs70', 153)" class="fn">Map</span>
</code></pre>
<p>Isolate some notable portfolios.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs71', 154)" onmouseover="showTip(event, 'fs71', 154)" class="rt">SignalPortfolioObs</span> <span class="o">=</span> 
    <span class="pn">{</span> <span class="prop">Month</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs44', 155)" onmouseover="showTip(event, 'fs44', 155)" class="vt">DateTime</span>
      <span class="prop">Name</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs72', 156)" onmouseover="showTip(event, 'fs72', 156)" class="rt">string</span>
      <span class="prop">ExcessReturn</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 157)" onmouseover="showTip(event, 'fs73', 157)" class="vt">float</span> <span class="pn">}</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs74', 158)" onmouseover="showTip(event, 'fs74', 158)" class="id">long</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs55', 159)" onmouseover="showTip(event, 'fs55', 159)" class="id">vw</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 160)" onmouseover="showTip(event, 'fs58', 160)" class="id">Returns</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 161)" onmouseover="showTip(event, 'fs34', 161)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 162)" onmouseover="showTip(event, 'fs75', 162)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs76', 163)" onmouseover="showTip(event, 'fs76', 163)" class="fn">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs76', 164)" onmouseover="showTip(event, 'fs76', 164)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs77', 165)" onmouseover="showTip(event, 'fs77', 165)" class="id">Index</span> <span class="o">=</span> <span class="n">3</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 166)" onmouseover="showTip(event, 'fs34', 166)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 167)" onmouseover="showTip(event, 'fs78', 167)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs76', 168)" onmouseover="showTip(event, 'fs76', 168)" class="fn">row</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 169)" onmouseover="showTip(event, 'fs79', 169)" class="fn">retx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs76', 170)" onmouseover="showTip(event, 'fs76', 170)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 171)" onmouseover="showTip(event, 'fs80', 171)" class="id">Return</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs59', 172)" onmouseover="showTip(event, 'fs59', 172)" class="id">ff3Lookup</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs76', 173)" onmouseover="showTip(event, 'fs76', 173)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 174)" onmouseover="showTip(event, 'fs81', 174)" class="id">Month</span><span class="pn">]</span><span class="pn">.</span><span class="id">Rf</span> 
        <span class="pn">{</span> <span class="prop">Month</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs76', 175)" onmouseover="showTip(event, 'fs76', 175)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 176)" onmouseover="showTip(event, 'fs81', 176)" class="id">Month</span>
          <span class="prop">Name</span> <span class="o">=</span> <span class="s">&quot;Long&quot;</span>
          <span class="prop">ExcessReturn</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs79', 177)" onmouseover="showTip(event, 'fs79', 177)" class="fn">retx</span> <span class="pn">}</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs82', 178)" onmouseover="showTip(event, 'fs82', 178)" class="id">short</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs55', 179)" onmouseover="showTip(event, 'fs55', 179)" class="id">vw</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 180)" onmouseover="showTip(event, 'fs58', 180)" class="id">Returns</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 181)" onmouseover="showTip(event, 'fs34', 181)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs75', 182)" onmouseover="showTip(event, 'fs75', 182)" class="id">filter</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs76', 183)" onmouseover="showTip(event, 'fs76', 183)" class="fn">row</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs76', 184)" onmouseover="showTip(event, 'fs76', 184)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs77', 185)" onmouseover="showTip(event, 'fs77', 185)" class="id">Index</span> <span class="o">=</span> <span class="n">1</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 186)" onmouseover="showTip(event, 'fs34', 186)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 187)" onmouseover="showTip(event, 'fs78', 187)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs76', 188)" onmouseover="showTip(event, 'fs76', 188)" class="fn">row</span> <span class="k">-&gt;</span> 
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 189)" onmouseover="showTip(event, 'fs79', 189)" class="fn">retx</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs76', 190)" onmouseover="showTip(event, 'fs76', 190)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 191)" onmouseover="showTip(event, 'fs80', 191)" class="id">Return</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs59', 192)" onmouseover="showTip(event, 'fs59', 192)" class="id">ff3Lookup</span><span class="pn">[</span><span onmouseout="hideTip(event, 'fs76', 193)" onmouseover="showTip(event, 'fs76', 193)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 194)" onmouseover="showTip(event, 'fs81', 194)" class="id">Month</span><span class="pn">]</span><span class="pn">.</span><span class="id">Rf</span> 
        <span class="pn">{</span> <span class="prop">Month</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs76', 195)" onmouseover="showTip(event, 'fs76', 195)" class="fn">row</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 196)" onmouseover="showTip(event, 'fs81', 196)" class="id">Month</span>
          <span class="prop">Name</span> <span class="o">=</span> <span class="s">&quot;Short&quot;</span>
          <span class="prop">ExcessReturn</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs79', 197)" onmouseover="showTip(event, 'fs79', 197)" class="fn">retx</span> <span class="pn">}</span><span class="pn">)</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs83', 198)" onmouseover="showTip(event, 'fs83', 198)" class="id">longShort</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs55', 199)" onmouseover="showTip(event, 'fs55', 199)" class="id">vw</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs58', 200)" onmouseover="showTip(event, 'fs58', 200)" class="id">Returns</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 201)" onmouseover="showTip(event, 'fs34', 201)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs84', 202)" onmouseover="showTip(event, 'fs84', 202)" class="id">groupBy</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs85', 203)" onmouseover="showTip(event, 'fs85', 203)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs85', 204)" onmouseover="showTip(event, 'fs85', 204)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 205)" onmouseover="showTip(event, 'fs81', 205)" class="id">Month</span><span class="pn">)</span>
    <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 206)" onmouseover="showTip(event, 'fs34', 206)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs78', 207)" onmouseover="showTip(event, 'fs78', 207)" class="id">map</span> <span class="pn">(</span><span class="k">fun</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs86', 208)" onmouseover="showTip(event, 'fs86', 208)" class="fn">month</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs87', 209)" onmouseover="showTip(event, 'fs87', 209)" class="fn">xs</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs88', 210)" onmouseover="showTip(event, 'fs88', 210)" class="fn">long</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs87', 211)" onmouseover="showTip(event, 'fs87', 211)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 212)" onmouseover="showTip(event, 'fs34', 212)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 213)" onmouseover="showTip(event, 'fs89', 213)" class="id">find</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs85', 214)" onmouseover="showTip(event, 'fs85', 214)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs85', 215)" onmouseover="showTip(event, 'fs85', 215)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs77', 216)" onmouseover="showTip(event, 'fs77', 216)" class="id">Index</span> <span class="o">=</span> <span class="n">3</span><span class="pn">)</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs90', 217)" onmouseover="showTip(event, 'fs90', 217)" class="fn">short</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs87', 218)" onmouseover="showTip(event, 'fs87', 218)" class="fn">xs</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs34', 219)" onmouseover="showTip(event, 'fs34', 219)" class="m">List</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs89', 220)" onmouseover="showTip(event, 'fs89', 220)" class="id">find</span> <span class="pn">(</span><span class="k">fun</span> <span onmouseout="hideTip(event, 'fs85', 221)" onmouseover="showTip(event, 'fs85', 221)" class="fn">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs85', 222)" onmouseover="showTip(event, 'fs85', 222)" class="fn">x</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs77', 223)" onmouseover="showTip(event, 'fs77', 223)" class="id">Index</span> <span class="o">=</span> <span class="n">1</span><span class="pn">)</span>
        <span class="pn">{</span> <span class="prop">Month</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs88', 224)" onmouseover="showTip(event, 'fs88', 224)" class="fn">long</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs81', 225)" onmouseover="showTip(event, 'fs81', 225)" class="id">Month</span>
          <span class="prop">Name</span> <span class="o">=</span> <span class="s">&quot;Long-short&quot;</span>
          <span class="prop">ExcessReturn</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs88', 226)" onmouseover="showTip(event, 'fs88', 226)" class="fn">long</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 227)" onmouseover="showTip(event, 'fs80', 227)" class="id">Return</span> <span class="o">-</span> <span onmouseout="hideTip(event, 'fs90', 228)" onmouseover="showTip(event, 'fs90', 228)" class="fn">short</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs80', 229)" onmouseover="showTip(event, 'fs80', 229)" class="id">Return</span> <span class="pn">}</span><span class="pn">)</span>
</code></pre>
<h2><a name="Start-of-assignment" class="anchor" href="#Start-of-assignment">Start of assignment</a></h2>
<blockquote>
<p><strong>Task:</strong> Calculate the annualized Sharpe ratios of your long, short, and long-short portfolios. Assign them to values <code>longSharpe</code>, <code>shortSharpe</code>, and <code>longShortSharpe</code>, respectively.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<p>Tests</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs99', 268)" onmouseover="showTip(event, 'fs99', 268)" class="id">longSharpe</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 269)" onmouseover="showTip(event, 'fs104', 269)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 270)" onmouseover="showTip(event, 'fs105', 270)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="n">0.2613490337</span>
<span onmouseout="hideTip(event, 'fs102', 271)" onmouseover="showTip(event, 'fs102', 271)" class="id">shortSharpe</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 272)" onmouseover="showTip(event, 'fs104', 272)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 273)" onmouseover="showTip(event, 'fs105', 273)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="n">0.490118588</span>
<span onmouseout="hideTip(event, 'fs103', 274)" onmouseover="showTip(event, 'fs103', 274)" class="id">longShortSharpe</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 275)" onmouseover="showTip(event, 'fs104', 275)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 276)" onmouseover="showTip(event, 'fs105', 276)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="o">-</span><span class="n">0.05676492997</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> Create a <code>list&lt;RegData&gt;</code> for your  long-short portfolio. Assign it to a value named <code>longShortRd</code>.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs106', 277)" onmouseover="showTip(event, 'fs106', 277)" class="rt">RegData</span> <span class="o">=</span>
    <span class="pn">{</span> <span class="prop">Month</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs44', 278)" onmouseover="showTip(event, 'fs44', 278)" class="vt">DateTime</span>
      <span class="prop">ExcessReturn</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 279)" onmouseover="showTip(event, 'fs73', 279)" class="vt">float</span> 
      <span class="prop">MktRf</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 280)" onmouseover="showTip(event, 'fs73', 280)" class="vt">float</span>
      <span class="prop">Hml</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 281)" onmouseover="showTip(event, 'fs73', 281)" class="vt">float</span>
      <span class="prop">Smb</span><span class="pn">:</span> <span onmouseout="hideTip(event, 'fs73', 282)" onmouseover="showTip(event, 'fs73', 282)" class="vt">float</span> <span class="pn">}</span>

<span class="c">// Solution here.</span>
</code></pre>
<p>Tests</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs107', 301)" onmouseover="showTip(event, 'fs107', 301)" class="id">longShortRd</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs109', 302)" onmouseover="showTip(event, 'fs109', 302)" class="fn">shouldHaveLength</span> <span class="n">252</span>
<span onmouseout="hideTip(event, 'fs107', 303)" onmouseover="showTip(event, 'fs107', 303)" class="id">longShortRd</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 304)" onmouseover="showTip(event, 'fs104', 304)" class="fn">should</span> <span onmouseout="hideTip(event, 'fs110', 305)" onmouseover="showTip(event, 'fs110', 305)" class="fn">be</span> <span onmouseout="hideTip(event, 'fs111', 306)" onmouseover="showTip(event, 'fs111', 306)" class="id">ofExactType</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs106', 307)" onmouseover="showTip(event, 'fs106', 307)" class="rt">RegData</span> <span onmouseout="hideTip(event, 'fs93', 308)" onmouseover="showTip(event, 'fs93', 308)" class="rt">list</span><span class="pn">&gt;</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> Fit CAPM and Fama-French 3-factor models for your long-short portfolio. Assign them to a values named <code>capmModel</code> and <code>ff3Model</code>, respectively.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<p>Tests.</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs112', 315)" onmouseover="showTip(event, 'fs112', 315)" class="id">capmModel</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 316)" onmouseover="showTip(event, 'fs104', 316)" class="fn">should</span> <span onmouseout="hideTip(event, 'fs110', 317)" onmouseover="showTip(event, 'fs110', 317)" class="fn">be</span> <span onmouseout="hideTip(event, 'fs111', 318)" onmouseover="showTip(event, 'fs111', 318)" class="id">ofExactType</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs115', 319)" onmouseover="showTip(event, 'fs115', 319)" class="rt">RegressionResults</span><span class="pn">&gt;</span>
<span onmouseout="hideTip(event, 'fs114', 320)" onmouseover="showTip(event, 'fs114', 320)" class="id">ff3Model</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 321)" onmouseover="showTip(event, 'fs104', 321)" class="fn">should</span> <span onmouseout="hideTip(event, 'fs110', 322)" onmouseover="showTip(event, 'fs110', 322)" class="fn">be</span> <span onmouseout="hideTip(event, 'fs111', 323)" onmouseover="showTip(event, 'fs111', 323)" class="id">ofExactType</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs115', 324)" onmouseover="showTip(event, 'fs115', 324)" class="rt">RegressionResults</span><span class="pn">&gt;</span>
</code></pre>
<h3><a name="CAPM-model-evaluation" class="anchor" href="#CAPM-model-evaluation">CAPM model evaluation.</a></h3>
<blockquote>
<p><strong>Task:</strong> What is the CAPM alpha for your long-short portfolio? Use code to assign the alpha to the value <code>capmAlpha</code>. Is it significantly different from zero? Use code to assign the t-statistic to the value <code>capmAlphaT</code>.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<p>Tests</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs116', 331)" onmouseover="showTip(event, 'fs116', 331)" class="id">capmAlpha</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 332)" onmouseover="showTip(event, 'fs104', 332)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 333)" onmouseover="showTip(event, 'fs105', 333)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="o">-</span><span class="n">0.003015844638</span>
<span onmouseout="hideTip(event, 'fs118', 334)" onmouseover="showTip(event, 'fs118', 334)" class="id">capmAlphT</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 335)" onmouseover="showTip(event, 'fs104', 335)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 336)" onmouseover="showTip(event, 'fs105', 336)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="o">-</span><span class="n">1.011538156</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> What is the CAPM beta for your long-short portfolio? Use code to assign the beta to the value <code>capmBeta</code>. Is it significantly different from zero? Use code to assign the t-statistic to the value <code>capmBetaT</code>.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<p>Tests</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs120', 343)" onmouseover="showTip(event, 'fs120', 343)" class="id">capmBeta</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 344)" onmouseover="showTip(event, 'fs104', 344)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 345)" onmouseover="showTip(event, 'fs105', 345)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="n">0.3874415756</span>
<span onmouseout="hideTip(event, 'fs121', 346)" onmouseover="showTip(event, 'fs121', 346)" class="id">capmBetaT</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 347)" onmouseover="showTip(event, 'fs104', 347)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 348)" onmouseover="showTip(event, 'fs105', 348)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="n">5.957967542</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> What is the information ratio for your long-short portfolio when using the CAPM model? Assign it to a value named <code>capmIR</code>.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<p>Tests</p>
<pre class="fssnip highlighted"><code lang="fsharp"><span onmouseout="hideTip(event, 'fs122', 354)" onmouseover="showTip(event, 'fs122', 354)" class="id">capmIR</span> <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs104', 355)" onmouseover="showTip(event, 'fs104', 355)" class="fn">should</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs105', 356)" onmouseover="showTip(event, 'fs105', 356)" class="fn">equalWithin</span> <span class="n">1e-6</span><span class="pn">)</span> <span class="o">-</span><span class="n">0.06434136117</span>
</code></pre>
<h3><a name="Fama-French-3-factor-model-evaluation" class="anchor" href="#Fama-French-3-factor-model-evaluation">Fama-French 3-factor model evaluation.</a></h3>
<blockquote>
<p><strong>Task:</strong> What is the Fama-French 3-factor model alpha for your long-short portfolio. Is it significantly different from zero?</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> What are the betas on the Market, HML, and SMB factors for your long-short portfolio. Are they significantly different from zero?</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> Based on the Market, HML, and SMB factor betas for your long-short portfolio, would you say your portfolio is more like a value portfolio, more like a growth portfolio, or neither? Explain.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> Based on the Market, HML, and SMB factor betas for your long-short portfolio, would you say your portfolio is more like a small-cap portfolio, more like a large-cap portfolio, or neither? Explain.</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>
<blockquote>
<p><strong>Task:</strong> What is the information ratio for your long-short portfolio when using the Fama and French 3-factor model?</p>
</blockquote>
<pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Solution here.</span>
</code></pre>

        <div class="fsdocs-tip" id="fs1">namespace Xunit</div>
<div class="fsdocs-tip" id="fs2">namespace FsUnit</div>
<div class="fsdocs-tip" id="fs3">module Xunit

from FsUnit</div>
<div class="fsdocs-tip" id="fs4">namespace FsUnitTyped</div>
<div class="fsdocs-tip" id="fs5">namespace System</div>
<div class="fsdocs-tip" id="fs6">Multiple items<br />namespace FSharp<br /><br />--------------------<br />namespace Microsoft.FSharp</div>
<div class="fsdocs-tip" id="fs7">Multiple items<br />namespace FSharp.Data<br /><br />--------------------<br />namespace Microsoft.FSharp.Data</div>
<div class="fsdocs-tip" id="fs8">namespace Plotly</div>
<div class="fsdocs-tip" id="fs9">namespace Plotly.NET</div>
<div class="fsdocs-tip" id="fs10">namespace FSharp.Stats</div>
<div class="fsdocs-tip" id="fs11">namespace MathNet</div>
<div class="fsdocs-tip" id="fs12">namespace MathNet.Numerics</div>
<div class="fsdocs-tip" id="fs13">namespace MathNet.Numerics.Statistics</div>
<div class="fsdocs-tip" id="fs14">namespace NovaSBE</div>
<div class="fsdocs-tip" id="fs15">namespace NovaSBE.Finance</div>
<div class="fsdocs-tip" id="fs16">module Ols

from NovaSBE.Finance</div>
<div class="fsdocs-tip" id="fs17">module Portfolio

from NovaSBE.Finance</div>
<div class="fsdocs-tip" id="fs18">Multiple items<br />type LiteralAttribute =
  inherit Attribute
  new: unit -&gt; LiteralAttribute<br /><br />--------------------<br />new: unit -&gt; LiteralAttribute</div>
<div class="fsdocs-tip" id="fs19">[&lt;Literal&gt;]
val IdAndReturnsFilePath: string = &quot;id_and_return_data.csv&quot;</div>
<div class="fsdocs-tip" id="fs20">[&lt;Literal&gt;]
val MySignalFilePath: string = &quot;rd_sale.csv&quot;</div>
<div class="fsdocs-tip" id="fs21">val strategyName: string</div>
<div class="fsdocs-tip" id="fs22">namespace System.IO</div>
<div class="fsdocs-tip" id="fs23">type File =
  static member AppendAllLines: path: string * contents: IEnumerable&lt;string&gt; -&gt; unit + 1 overload
  static member AppendAllLinesAsync: path: string * contents: IEnumerable&lt;string&gt; * encoding: Encoding * ?cancellationToken: CancellationToken -&gt; Task + 1 overload
  static member AppendAllText: path: string * contents: string -&gt; unit + 1 overload
  static member AppendAllTextAsync: path: string * contents: string * encoding: Encoding * ?cancellationToken: CancellationToken -&gt; Task + 1 overload
  static member AppendText: path: string -&gt; StreamWriter
  static member Copy: sourceFileName: string * destFileName: string -&gt; unit + 1 overload
  static member Create: path: string -&gt; FileStream + 2 overloads
  static member CreateSymbolicLink: path: string * pathToTarget: string -&gt; FileSystemInfo
  static member CreateText: path: string -&gt; StreamWriter
  static member Decrypt: path: string -&gt; unit
  ...<br /><em>&lt;summary&gt;Provides static methods for the creation, copying, deletion, moving, and opening of a single file, and aids in the creation of &lt;see cref=&quot;T:System.IO.FileStream&quot; /&gt; objects.&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs24">IO.File.ReadLines(path: string) : Collections.Generic.IEnumerable&lt;string&gt;<br />IO.File.ReadLines(path: string, encoding: Text.Encoding) : Collections.Generic.IEnumerable&lt;string&gt;</div>
<div class="fsdocs-tip" id="fs25">Multiple items<br />module Seq

from FSharp.Stats<br /><em>&lt;summary&gt;
 Module to compute common statistical measure
&lt;/summary&gt;</em><br /><br />--------------------<br />module Seq

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Seq =
  new: unit -&gt; Seq
  static member geomspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float seq
  static member linspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float seq<br /><br />--------------------<br />new: unit -&gt; Seq</div>
<div class="fsdocs-tip" id="fs26">val truncate: count: int -&gt; source: &#39;T seq -&gt; &#39;T seq</div>
<div class="fsdocs-tip" id="fs27">val iter: action: (&#39;T -&gt; unit) -&gt; source: &#39;T seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs28">val printfn: format: Printf.TextWriterFormat&lt;&#39;T&gt; -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs29">val idAndReturnsCsv: CsvProvider&lt;...&gt;.Row list</div>
<div class="fsdocs-tip" id="fs30">type CsvProvider<br /><em>&lt;summary&gt;Typed representation of a CSV file.&lt;/summary&gt;
           &lt;param name=&#39;Sample&#39;&gt;Location of a CSV sample file or a string containing a sample CSV document.&lt;/param&gt;
           &lt;param name=&#39;Separators&#39;&gt;Column delimiter(s). Defaults to &lt;c&gt;,&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;InferRows&#39;&gt;Number of rows to use for inference. Defaults to &lt;c&gt;1000&lt;/c&gt;. If this is zero, all rows are used.&lt;/param&gt;
           &lt;param name=&#39;Schema&#39;&gt;Optional column types, in a comma separated list. Valid types are &lt;c&gt;int&lt;/c&gt;, &lt;c&gt;int64&lt;/c&gt;, &lt;c&gt;bool&lt;/c&gt;, &lt;c&gt;float&lt;/c&gt;, &lt;c&gt;decimal&lt;/c&gt;, &lt;c&gt;date&lt;/c&gt;, &lt;c&gt;datetimeoffset&lt;/c&gt;, &lt;c&gt;timespan&lt;/c&gt;, &lt;c&gt;guid&lt;/c&gt;, &lt;c&gt;string&lt;/c&gt;, &lt;c&gt;int?&lt;/c&gt;, &lt;c&gt;int64?&lt;/c&gt;, &lt;c&gt;bool?&lt;/c&gt;, &lt;c&gt;float?&lt;/c&gt;, &lt;c&gt;decimal?&lt;/c&gt;, &lt;c&gt;date?&lt;/c&gt;, &lt;c&gt;datetimeoffset?&lt;/c&gt;, &lt;c&gt;timespan?&lt;/c&gt;, &lt;c&gt;guid?&lt;/c&gt;, &lt;c&gt;int option&lt;/c&gt;, &lt;c&gt;int64 option&lt;/c&gt;, &lt;c&gt;bool option&lt;/c&gt;, &lt;c&gt;float option&lt;/c&gt;, &lt;c&gt;decimal option&lt;/c&gt;, &lt;c&gt;date option&lt;/c&gt;, &lt;c&gt;datetimeoffset option&lt;/c&gt;, &lt;c&gt;timespan option&lt;/c&gt;, &lt;c&gt;guid option&lt;/c&gt; and &lt;c&gt;string option&lt;/c&gt;.
           You can also specify a unit and the name of the column like this: &lt;c&gt;Name (type&amp;lt;unit&amp;gt;)&lt;/c&gt;, or you can override only the name. If you don&#39;t want to specify all the columns, you can reference the columns by name like this: &lt;c&gt;ColumnName=type&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;HasHeaders&#39;&gt;Whether the sample contains the names of the columns as its first line.&lt;/param&gt;
           &lt;param name=&#39;IgnoreErrors&#39;&gt;Whether to ignore rows that have the wrong number of columns or which can&#39;t be parsed using the inferred or specified schema. Otherwise an exception is thrown when these rows are encountered.&lt;/param&gt;
           &lt;param name=&#39;SkipRows&#39;&gt;Skips the first n rows of the CSV file.&lt;/param&gt;
           &lt;param name=&#39;AssumeMissingValues&#39;&gt;When set to true, the type provider will assume all columns can have missing values, even if in the provided sample all values are present. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;PreferOptionals&#39;&gt;When set to true, inference will prefer to use the option type instead of nullable types, &lt;c&gt;double.NaN&lt;/c&gt; or &lt;c&gt;&quot;&quot;&lt;/c&gt; for missing values. Defaults to false.&lt;/param&gt;
           &lt;param name=&#39;Quote&#39;&gt;The quotation mark (for surrounding values containing the delimiter). Defaults to &lt;c&gt;&quot;&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;MissingValues&#39;&gt;The set of strings recognized as missing values specified as a comma-separated string (e.g., &quot;NA,N/A&quot;). Defaults to &lt;c&gt;NaN,NA,N/A,#N/A,:,-,TBA,TBD&lt;/c&gt;.&lt;/param&gt;
           &lt;param name=&#39;CacheRows&#39;&gt;Whether the rows should be caches so they can be iterated multiple times. Defaults to true. Disable for large datasets.&lt;/param&gt;
           &lt;param name=&#39;Culture&#39;&gt;The culture used for parsing numbers and dates. Defaults to the invariant culture.&lt;/param&gt;
           &lt;param name=&#39;Encoding&#39;&gt;The encoding used to read the sample. You can specify either the character set name or the codepage number. Defaults to UTF8 for files, and to ISO-8859-1 the for HTTP requests, unless &lt;c&gt;charset&lt;/c&gt; is specified in the &lt;c&gt;Content-Type&lt;/c&gt; response header.&lt;/param&gt;
           &lt;param name=&#39;ResolutionFolder&#39;&gt;A directory that is used when resolving relative file references (at design time and in hosted execution).&lt;/param&gt;
           &lt;param name=&#39;EmbeddedResource&#39;&gt;When specified, the type provider first attempts to load the sample from the specified resource 
              (e.g. &#39;MyCompany.MyAssembly, resource_name.csv&#39;). This is useful when exposing types generated by the type provider.&lt;/param&gt;</em></div>
<div class="fsdocs-tip" id="fs31">val toList: source: &#39;T seq -&gt; &#39;T list</div>
<div class="fsdocs-tip" id="fs32">val mySignalCsv: CsvProvider&lt;...&gt;.Row list</div>
<div class="fsdocs-tip" id="fs33">val mySignals: Signal list</div>
<div class="fsdocs-tip" id="fs34">Multiple items<br />module List

from FSharp.Stats<br /><em>&lt;summary&gt;
 Module to compute common statistical measure on list
&lt;/summary&gt;</em><br /><br />--------------------<br />module List

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List =
  new: unit -&gt; List
  static member geomspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float list
  static member linspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float list<br /><br />--------------------<br />type List&lt;&#39;T&gt; =
  | op_Nil
  | op_ColonColon of Head: &#39;T * Tail: &#39;T list
  interface IReadOnlyList&lt;&#39;T&gt;
  interface IReadOnlyCollection&lt;&#39;T&gt;
  interface IEnumerable
  interface IEnumerable&lt;&#39;T&gt;
  member GetReverseIndex: rank: int * offset: int -&gt; int
  member GetSlice: startIndex: int option * endIndex: int option -&gt; &#39;T list
  static member Cons: head: &#39;T * tail: &#39;T list -&gt; &#39;T list
  member Head: &#39;T
  member IsEmpty: bool
  member Item: index: int -&gt; &#39;T with get
  ...<br /><br />--------------------<br />new: unit -&gt; List</div>
<div class="fsdocs-tip" id="fs35">val choose: chooser: (&#39;T -&gt; &#39;U option) -&gt; list: &#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs36">val row: CsvProvider&lt;...&gt;.Row</div>
<div class="fsdocs-tip" id="fs37">union case Option.None: Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs38">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs39">val signal: float</div>
<div class="fsdocs-tip" id="fs40">val signalRecord: Signal</div>
<div class="fsdocs-tip" id="fs41">Multiple items<br />namespace FSharp.Stats.Signal<br /><br />--------------------<br />type Signal =
  {
    SecurityId: SecurityId
    FormationDate: DateTime
    Signal: float
  }</div>
<div class="fsdocs-tip" id="fs42">type SecurityId =
  | Ticker of string
  | Cusip of string
  | Bloomberg of string
  | Permno of int
  | Other of string</div>
<div class="fsdocs-tip" id="fs43">union case SecurityId.Other: string -&gt; SecurityId</div>
<div class="fsdocs-tip" id="fs44">Multiple items<br />[&lt;Struct&gt;]
type DateTime =
  new: year: int * month: int * day: int -&gt; unit + 16 overloads
  member Add: value: TimeSpan -&gt; DateTime
  member AddDays: value: float -&gt; DateTime
  member AddHours: value: float -&gt; DateTime
  member AddMicroseconds: value: float -&gt; DateTime
  member AddMilliseconds: value: float -&gt; DateTime
  member AddMinutes: value: float -&gt; DateTime
  member AddMonths: months: int -&gt; DateTime
  member AddSeconds: value: float -&gt; DateTime
  member AddTicks: value: int64 -&gt; DateTime
  ...<br /><em>&lt;summary&gt;Represents an instant in time, typically expressed as a date and time of day.&lt;/summary&gt;</em><br /><br />--------------------<br />DateTime ()<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(ticks: int64, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(date: DateOnly, time: TimeOnly) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(date: DateOnly, time: TimeOnly, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, kind: DateTimeKind) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />DateTime(year: int, month: int, day: int, hour: int, minute: int, second: int, calendar: Globalization.Calendar) : DateTime<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="fsdocs-tip" id="fs45">val myReturns: SecurityReturn list</div>
<div class="fsdocs-tip" id="fs46">val ret: float</div>
<div class="fsdocs-tip" id="fs47">val ret: SecurityReturn</div>
<div class="fsdocs-tip" id="fs48">type SecurityReturn =
  {
    SecurityId: SecurityId
    Date: DateTime
    Return: float
  }</div>
<div class="fsdocs-tip" id="fs49">val myMktCaps: WeightVariable list</div>
<div class="fsdocs-tip" id="fs50">val mktCap: float</div>
<div class="fsdocs-tip" id="fs51">val mktCap: WeightVariable</div>
<div class="fsdocs-tip" id="fs52">type WeightVariable =
  {
    SecurityId: SecurityId
    FormationDate: DateTime
    Value: float
  }</div>
<div class="fsdocs-tip" id="fs53">val backtest: Backtest</div>
<div class="fsdocs-tip" id="fs54">Multiple items<br />type Backtest =
  new: returns: SecurityReturn seq * signals: Signal seq * nPortfolios: int * ?name: string * ?inParallel: bool -&gt; Backtest
  member strategyEqualWeighted: unit -&gt; BackTestResult
  member strategyValueWeighted: marketCaps: WeightVariable seq -&gt; BackTestResult<br /><em>&lt;summary&gt;Constructs a backtest of a trading strategy based on signals.&lt;/summary&gt;<br />&lt;param name=&quot;returns&quot;&gt;A sequence of security returns.&lt;/param&gt;<br />&lt;param name=&quot;signals&quot;&gt;A sequence of signals for each security and formation date.&lt;/param&gt;<br />&lt;param name=&quot;nPortfolios&quot;&gt;The number of cross-sectionally sorted portfolios to create.&lt;/param&gt;<br />&lt;param name=&quot;name&quot;&gt;The name of the strategy.&lt;/param&gt;<br />&lt;param name=&quot;inParallel&quot;&gt;Whether to run the backtest in parallel.&lt;/param&gt;<br />&lt;returns&gt;The portfolio positions each formation date and the portfolio returns.&lt;/returns&gt;</em><br /><br />--------------------<br />new: returns: SecurityReturn seq * signals: Signal seq * nPortfolios: int * ?name: string * ?inParallel: bool -&gt; Backtest</div>
<div class="fsdocs-tip" id="fs55">val vw: BackTestResult</div>
<div class="fsdocs-tip" id="fs56">member Backtest.strategyValueWeighted: marketCaps: WeightVariable seq -&gt; BackTestResult</div>
<div class="fsdocs-tip" id="fs57">BackTestResult.Portfolios: Portfolio list</div>
<div class="fsdocs-tip" id="fs58">BackTestResult.Returns: PortfolioReturn list</div>
<div class="fsdocs-tip" id="fs59">val ff3Lookup: Map&lt;DateTime,French.FF3Obs&gt;</div>
<div class="fsdocs-tip" id="fs60">module French

from NovaSBE.Finance</div>
<div class="fsdocs-tip" id="fs61">val getFF3: frequency: French.Frequency -&gt; French.FF3Obs array</div>
<div class="fsdocs-tip" id="fs62">type Frequency =
  | Daily
  | Monthly</div>
<div class="fsdocs-tip" id="fs63">union case French.Frequency.Monthly: French.Frequency</div>
<div class="fsdocs-tip" id="fs64">Multiple items<br />type Array =
  new: unit -&gt; Array
  static member geomspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float array
  static member linspace: start: float * stop: float * num: int * ?IncludeEndpoint: bool -&gt; float array<br /><br />--------------------<br />new: unit -&gt; Array</div>
<div class="fsdocs-tip" id="fs65">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; array: &#39;T array -&gt; &#39;U array</div>
<div class="fsdocs-tip" id="fs66">val x: French.FF3Obs</div>
<div class="fsdocs-tip" id="fs67">French.FF3Obs.Date: DateTime</div>
<div class="fsdocs-tip" id="fs68">property DateTime.Year: int with get<br /><em>&lt;summary&gt;Gets the year component of the date represented by this instance.&lt;/summary&gt;<br />&lt;returns&gt;The year, between 1 and 9999.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs69">property DateTime.Month: int with get<br /><em>&lt;summary&gt;Gets the month component of the date represented by this instance.&lt;/summary&gt;<br />&lt;returns&gt;The month component, expressed as a value between 1 and 12.&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs70">Multiple items<br />module Map

from FSharp.Stats<br /><em>&lt;summary&gt;
 Module to strore specialised computations on maps
&lt;/summary&gt;</em><br /><br />--------------------<br />module Map

from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =
  interface IReadOnlyDictionary&lt;&#39;Key,&#39;Value&gt;
  interface IReadOnlyCollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IEnumerable
  interface IStructuralEquatable
  interface IComparable
  interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;
  interface IDictionary&lt;&#39;Key,&#39;Value&gt;
  new: elements: (&#39;Key * &#39;Value) seq -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  member Add: key: &#39;Key * value: &#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;
  ...<br /><br />--------------------<br />new: elements: (&#39;Key * &#39;Value) seq -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="fsdocs-tip" id="fs71">type SignalPortfolioObs =
  {
    Month: DateTime
    Name: string
    ExcessReturn: float
  }</div>
<div class="fsdocs-tip" id="fs72">Multiple items<br />val string: value: &#39;T -&gt; string<br /><br />--------------------<br />type string = String</div>
<div class="fsdocs-tip" id="fs73">Multiple items<br />val float: value: &#39;T -&gt; float (requires member op_Explicit)<br /><br />--------------------<br />type float = Double<br /><br />--------------------<br />type float&lt;&#39;Measure&gt; =
  float</div>
<div class="fsdocs-tip" id="fs74">val long: SignalPortfolioObs list</div>
<div class="fsdocs-tip" id="fs75">val filter: predicate: (&#39;T -&gt; bool) -&gt; list: &#39;T list -&gt; &#39;T list</div>
<div class="fsdocs-tip" id="fs76">val row: PortfolioReturn</div>
<div class="fsdocs-tip" id="fs77">PortfolioReturn.Index: int</div>
<div class="fsdocs-tip" id="fs78">val map: mapping: (&#39;T -&gt; &#39;U) -&gt; list: &#39;T list -&gt; &#39;U list</div>
<div class="fsdocs-tip" id="fs79">val retx: float</div>
<div class="fsdocs-tip" id="fs80">PortfolioReturn.Return: float</div>
<div class="fsdocs-tip" id="fs81">PortfolioReturn.Month: DateTime</div>
<div class="fsdocs-tip" id="fs82">val short: SignalPortfolioObs list</div>
<div class="fsdocs-tip" id="fs83">val longShort: SignalPortfolioObs list</div>
<div class="fsdocs-tip" id="fs84">val groupBy: projection: (&#39;T -&gt; &#39;Key) -&gt; list: &#39;T list -&gt; (&#39;Key * &#39;T list) list (requires equality)</div>
<div class="fsdocs-tip" id="fs85">val x: PortfolioReturn</div>
<div class="fsdocs-tip" id="fs86">val month: DateTime</div>
<div class="fsdocs-tip" id="fs87">val xs: PortfolioReturn list</div>
<div class="fsdocs-tip" id="fs88">val long: PortfolioReturn</div>
<div class="fsdocs-tip" id="fs89">val find: predicate: (&#39;T -&gt; bool) -&gt; list: &#39;T list -&gt; &#39;T</div>
<div class="fsdocs-tip" id="fs90">val short: PortfolioReturn</div>
<div class="fsdocs-tip" id="fs91">val sharpe: xs: float list -&gt; float</div>
<div class="fsdocs-tip" id="fs92">val xs: float list</div>
<div class="fsdocs-tip" id="fs93">type &#39;T list = List&lt;&#39;T&gt;</div>
<div class="fsdocs-tip" id="fs94">val mn: float</div>
<div class="fsdocs-tip" id="fs95">val average: list: &#39;T list -&gt; &#39;T (requires member (+) and member DivideByInt and member Zero)</div>
<div class="fsdocs-tip" id="fs96">val sd: float</div>
<div class="fsdocs-tip" id="fs97">val stDev: items: &#39;T seq -&gt; &#39;U (requires member (-) and member Zero and member DivideByInt and member (+) and member ( * ) and member (+) and member (/) and member Sqrt)<br /><em>&lt;summary&gt;
   Computes the sample standard deviation
 &lt;/summary&gt;<br />&lt;param name=&quot;items&quot;&gt;The input sequence.&lt;/param&gt;<br />&lt;remarks&gt;Returns NaN if data is empty or if any entry is NaN.&lt;/remarks&gt;<br />&lt;returns&gt;standard deviation of a sample (Bessel&#39;s correction by N-1)&lt;/returns&gt;</em></div>
<div class="fsdocs-tip" id="fs98">val sqrt: value: &#39;T -&gt; &#39;U (requires member Sqrt)</div>
<div class="fsdocs-tip" id="fs99">val longSharpe: float</div>
<div class="fsdocs-tip" id="fs100">val x: SignalPortfolioObs</div>
<div class="fsdocs-tip" id="fs101">SignalPortfolioObs.ExcessReturn: float</div>
<div class="fsdocs-tip" id="fs102">val shortSharpe: float</div>
<div class="fsdocs-tip" id="fs103">val longShortSharpe: float</div>
<div class="fsdocs-tip" id="fs104">val should: f: (&#39;a -&gt; #NHamcrest.IMatcher&lt;obj&gt;) -&gt; x: &#39;a -&gt; actual: obj -&gt; unit</div>
<div class="fsdocs-tip" id="fs105">val equalWithin: tolerance: obj -&gt; expected: obj -&gt; NHamcrest.Core.CustomMatcher&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs106">type RegData =
  {
    Month: DateTime
    ExcessReturn: float
    MktRf: float
    Hml: float
    Smb: float
  }</div>
<div class="fsdocs-tip" id="fs107">val longShortRd: RegData list</div>
<div class="fsdocs-tip" id="fs108">SignalPortfolioObs.Month: DateTime</div>
<div class="fsdocs-tip" id="fs109">val shouldHaveLength: expected: int -&gt; actual: &#39;a seq -&gt; unit</div>
<div class="fsdocs-tip" id="fs110">val be: (&#39;b -&gt; &#39;b)</div>
<div class="fsdocs-tip" id="fs111">val ofExactType&lt;&#39;a&gt; : NHamcrest.Core.CustomMatcher&lt;obj&gt;</div>
<div class="fsdocs-tip" id="fs112">val capmModel: RegressionResults</div>
<div class="fsdocs-tip" id="fs113">Multiple items<br />module Ols

from NovaSBE.Finance<br /><br />--------------------<br />type Ols&lt;&#39;Record&gt; =
  new: formula: string * data: &#39;Record seq -&gt; Ols&lt;&#39;Record&gt;
  member fit: unit -&gt; RegressionResults
  member df_model: int
  member df_resid: int
  member endog_names: string
  member exog_names: string array
  member k_constant: int<br /><em>&lt;summary&gt;Create a model from a formula and collection of records&lt;/summary&gt;</em><br /><br />--------------------<br />new: formula: string * data: &#39;Record seq -&gt; Ols&lt;&#39;Record&gt;</div>
<div class="fsdocs-tip" id="fs114">val ff3Model: RegressionResults</div>
<div class="fsdocs-tip" id="fs115">Multiple items<br />type RegressionResults =
  new: df_model: int * df_resid: int * endog: float array * exog: float array array * endog_names: string * exog_names: string array * intercept: bool * covtype: CovType -&gt; RegressionResults
  member predict: data: &#39;a seq -&gt; float array
  member summary: ?yname: string * ?xname: string seq * ?title: string * ?alpha: float * ?slim: bool -&gt; string
  member coefs: Map&lt;string,float&gt;
  member df_model: int
  member df_resid: int
  member endog_names: string
  member ess: float
  member exog_names: string array
  member f_pvalue: float
  ...<br /><br />--------------------<br />new: df_model: int * df_resid: int * endog: float array * exog: float array array * endog_names: string * exog_names: string array * intercept: bool * covtype: CovType -&gt; RegressionResults</div>
<div class="fsdocs-tip" id="fs116">val capmAlpha: float</div>
<div class="fsdocs-tip" id="fs117">property RegressionResults.coefs: Map&lt;string,float&gt; with get<br /><em>&lt;summary&gt;
 The estimated model coefficients
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs118">val capmAlphT: float</div>
<div class="fsdocs-tip" id="fs119">property RegressionResults.tvalues: Map&lt;string,float&gt; with get<br /><em>&lt;summary&gt;
 The t-statistics of the model coefficients
&lt;/summary&gt;</em></div>
<div class="fsdocs-tip" id="fs120">val capmBeta: float</div>
<div class="fsdocs-tip" id="fs121">val capmBetaT: float</div>
<div class="fsdocs-tip" id="fs122">val capmIR: float</div>
<div class="fsdocs-tip" id="fs123">property RegressionResults.resid: float array with get<br /><em>&lt;summary&gt;
 The model residuals
&lt;/summary&gt;</em></div>

    </div>
</main>
<aside id="fsdocs-page-menu">
    <p id="on-this-page">On this page</p>
    <ul>
  <li class="level-2">
    <a href="#Load-Data">
      Load Data
    </a>
  </li>
  <li class="level-3">
    <a href="#Data-files">
      Data files
    </a>
  </li>
  <li class="level-2">
    <a href="#Forming-our-strategy">
      Forming our strategy
    </a>
  </li>
  <li class="level-3">
    <a href="#Value-Weighted-Portfolios">
      Value Weighted Portfolios
    </a>
  </li>
  <li class="level-3">
    <a href="#Long-short-portfolios">
      Long-short portfolios
    </a>
  </li>
  <li class="level-2">
    <a href="#Start-of-assignment">
      Start of assignment
    </a>
  </li>
  <li class="level-3">
    <a href="#CAPM-model-evaluation">
      CAPM model evaluation.
    </a>
  </li>
  <li class="level-3">
    <a href="#Fama-French-3-factor-model-evaluation">
      Fama-French 3-factor model evaluation.
    </a>
  </li>
</ul>
</aside>
<dialog>
    <input type="search" placeholder="Search docs" />
    <div class="results">
        <ul></ul>
        <p class="empty">Type something to start searching.</p>
    </div>
</dialog>
<script type="module" src="/Teaching/content/fsdocs-tips.js"></script>
<script type="module" src="/Teaching/content/fsdocs-theme-toggle.js"></script>
<script type="module" src="/Teaching/content/fsdocs-theme.js"></script>
<script type="module" src="/Teaching/content/fsdocs-search.js"></script>

</body>
</html>